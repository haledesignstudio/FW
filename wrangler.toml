name = "fw-hale"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

[env.production]
routes = [
  { pattern = "fw-hale.pages.dev/*", zone_name = "fw-hale.pages.dev" }
]

[build]
command = "npm run build"
cwd = "."
watch_dir = "src"

# Cloudflare Pages configuration
pages_build_output_dir = ".next"

# Ensure static assets are included
[build.upload]
dir = ".next"
include = ["**/*"]
exclude = ["node_modules"]

# Environment variables
[vars]
NODE_VERSION = "20"
